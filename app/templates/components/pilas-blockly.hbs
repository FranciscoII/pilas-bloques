{{#if cargando}}
  <Spinner @centered={{true}} />
{{else}}
  <EmberBlockly
      @mediaFolder={{"media/"}}
      @blocks={{blockly_toolbox}}
      @workspace={{initial_workspace}}
      @withZoom={{true}}
      @withTrash={{true}}
      @comments={{blockly_comments}}
      @disable={{blockly_disable}}
      @duplicate={{blockly_duplicate}}
      @help={{false}}
      @disableBlock={{false}}
      @javascriptCode={{javascriptCode}}
      @showCode={{showCode}}
      @comment={{true}}
      @onChangeWorkspace={{action "onChangeWorkspace"}}
      @onNewWorkspace={{action "onNewWorkspace"}}
      @disableNotConnectedToMainBlock={{true}}
    />
    <span class="pilas-blockly-workspace-buttons">
      <ChallengeWorkspaceButtons @actividad={{modelActividad}} @shouldUseFloatingMode={{shouldUseFloatingMode}} @changeScreenMode={{changeScreenMode}} @workspace={{initial_workspace}} @xml={{codigoActualEnFormatoXML}}/>
    </span>
{{/if}}

{{#if mostrarDialogoFinDesafio}}
  <CongratulationsModal @onClose={{action "ocultarFinDesafio"}}/>
{{/if}}


{{#if showExpects}}
  <Modal @title={{t "components.expectationsModal.goodButNotTooGood"}} @onClose={{action (mut showExpects) false}}>
    <p>{{t "components.expectationsModal.couldBeBetter"}}</p>
    <img src='imagenes/guido.jpg' height='20%' width='30%'>
    {{#each failedExpects as |expect|}}
      <p>{{expect}}</p>
    {{/each}}
  </Modal>
{{/if}}