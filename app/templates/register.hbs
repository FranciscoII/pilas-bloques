<Header/>

<div class="center">
  <form {{action "doRegister" on="submit"}}>
    <img src="imagenes/libros/primer-ciclo.png" />

    <PaperInput @label="Usuario" @value={{ registerData.username }} @focusOut={{action "checkUsername"}} @onChange={{ action (mut registerData.username) }} @required={{ true }} />

    {{#unless validUsername}}
      <p>Este nombre de usuario ya existe</p>
    {{/unless}}

    <p for="password"> Contraseña </p>
    <Input type="password" @value={{ registerData.password }} required />
    <p for="passwordConfirm"> Confirmar contraseña </p>
    <Input type="password" @value={{ registerData.passwordConfirm }} @focusOut={{action "checkPassword"}} required />
    
    {{#if wrongPasswords}}
      <p>Las contraseñas no coinciden</p>
    {{/if}}

    <p for="parentName"> Nombre del tutor </p>
    <Input @value={{ registerData.parentName }} required />
    <p for="parentCUIL"> CUIL del tutor </p>
    <Input @value={{ registerData.parentCUIL }} required />
    <p for="email"> Email (opcional) </p>
    <Input type="email" @value={{ registerData.email }} />

    <p for="avatarURL"> Avatar </p>
    {{#each avatars as |avatar|}}
      <button type="button" class="avatar" onClick={{action (mut registerData.avatarURL) avatar}}>
        <img class={{ if (not (eq registerData.avatarURL avatar)) "gray"}} src={{ concat "imagenes/avatars/" avatar }} />
      </button>
    {{/each}}

    <p for="Terms & Conditions"> Términos y condiciones </p>
    <Textarea @value={{ "Acá van los términos y condiciones" }} disabled={{true}} />
    <br>
    <Link>Ver todos los términos y condiciones</Link>
    <br>
    <Input @type={{"checkbox"}} required />
    <span>He leído y acepto los términos y condiciones.</span>

    <Button type="submit" @isDisabled={{ or (not validUsername) wrongPasswords }}>
      Registrar
    </Button>
  </form>
</div>