<Header/>

<div class="center">
  <PaperForm class="register-form" @onSubmit={{action "doRegister"}} as |form|>
    <img src="imagenes/session/register.png" />
    
    <PbInput @label="Usuario"
      @model={{ registerData.username }} 
      @focusOut={{ action "checkUsername" }}
      @required={{ true }}
      @error={{ if (not validUsername) "Este nombre de usuario ya existe" }} />

    <PbInput @type="password" @label="Contraseña"
      @model={{ registerData.password }} 
      @required={{ true }} />

    <PasswordConfirmation @password={{ registerData.password }} />

    <PbInput @type="email" @label="Email"
      @model={{ registerData.email }} />

    <p for="avatarURL">
      <label>Elegí tu avatar:</label>
      <PbInput class="invisible-input" @type="checkbox" @model={{ registerData.avatarURL }} @required={{ true }} />  
    </p>
    <PaperGridList @cols="4" @rowHeight="gt-xs-1:1 gt-md-1:1" as |grid|>
      {{#each avatars as |avatar|}}
        <grid.tile as |tile|>
          <button type="button" class="avatar" onClick={{action (mut registerData.avatarURL) avatar}}>
            <img class={{ if (not (eq registerData.avatarURL avatar)) "gray" "selected"}} src={{ avatar }} />
          </button>
        </grid.tile>
      {{/each}}
    </PaperGridList>

    <p>Consentimiento parental</p>

    <PbInput @label="Nombre de madre, padre o tutor/a"
      @model={{ registerData.parentName }} 
      @required={{ true }} />

    <PbInput @label="CUIL de madre, padre o tutor/a"
      @model={{ registerData.parentCUIL }} 
      @required={{ true }} />

    <Collapsable @class="left" @title="¿Por qué solicitamos estos datos?">
        <p>
          Para la FUNDACIÓN SADOSKY tu privacidad y la de tus hijos es muy importante. Para protegerla mejor, y para que puedas tener una experiencia gratificante al utilizar nuestra Plataforma te presentamos estas Condiciones de Uso en las que se resumen todas nuestras prácticas con la información en línea.
        </p>
        <p>
          A fin de identificar tu cuenta con los datos de tu padre / padre / tutor en caso de hacer uso a los derechos emergentes de la Ley de Protección de Datos Personales del menor tutelado. Ver mas en (link)
        </p>
        <p>
          Los padres o tutores podrán solicitar por email a ponerunemail@fundacionsadosky.org.ar al Administrador que le muestre los datos consignados por menor a su cargo y solicitar que se efectúen modificaciones en los datos suministrados.
        </p>
    </Collapsable>

    <Input @type={{"checkbox"}} required /> <span>He leído y acepto los <Link @openOnNewTab={{true}} @href="https://docs.google.com/document/d/e/2PACX-1vTNX9zl8txZmuINNz2qODrodoQhvr0o2-r3T_6yFp6quEpidmPz6ORx1HSjo2KNUg6MnyHPN-Ti44z1/pub">términos y condiciones de uso</Link></span>

    <br><br>
    <ProgressButton class="link" type="submit" @isDisabled={{not validUsername}} @loading={{ pilasBloquesApi.loading.register }}>
      Registrar
    </ProgressButton>
  </PaperForm>
</div>